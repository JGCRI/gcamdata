#!/bin/sh

# This script is automatically called by the R package build system.
# It copies all R files in the $DIRECTORY over to R/, flattening
# directory trees as it goes. We do this because R CMD BUILD needs
# all R files in a single directory (R/) whereas we'd like to maintain
# a folder structure, given the number of data system files.

DIRECTORY=data_system_source/

# Remove all R files in R/
rm -f R/*.R

# Copy all R scripts out of the directory tree into R/
if [ -d "$DIRECTORY" ]; then
  find $DIRECTORY -name "*.R" -exec cp {} ./R \;
fi
